<div class="card text-left shadow">
    <div class="card-header text-center bg-waste">
      <h3 class="my-0 fw-normal text-white"><i class="text-white fas fa-chevron-circle-down"></i> Registrar Nuevo Gasto</h3>
    </div>
    <div class="card-body">
  
      <app-cargando [isLoaded]="isLoaded"></app-cargando>

      <form *ngIf="isLoaded">
        <div class="row mb-3">
          <div class="col-6">
            <div class="form-group">
              <label for="sel1">Categoria</label>
              <select class="custom-select" 
                #categoriaSelect 
                (change)='categoriaChange(categoriaSelect.value)'
                [ngClass]="{'is-valid': chargeItems}"
                [disabled]="chargeItems">
                <option hidden disabled selected value>-</option>
                <option *ngFor="let cat of categorias" value="{{cat.idCategoria}}">{{cat.nombre}}</option>
              </select>
            </div> 
          </div>
          <div class="col-6">
            <label for="Concpeto" class="form-label">Concpeto (opcional)</label>
            <input type="text" class="form-control" id="Concpeto" placeholder="concepto"
              [ngClass]="{'is-valid': chargeItems}"
              [disabled]="chargeItems"> 
          </div>        
        </div>
  
        <div class="row mb-3">        
          <div class="col-sm-6">
            <div class="form-group">
              <label for="sel1">Forma de pago</label>
              <select class="custom-select" 
                #formaDePagoSelect 
                (change)='formaDePagoChange(formaDePagoSelect.value)'
                [ngClass]="{'is-valid': chargeItems}"
                [disabled]="chargeItems">
                <option hidden disabled selected value>-</option>
                <option *ngFor="let f of formasDePago" value="{{f.idFormaDePago}}">{{f.nombre}}</option>
              </select>
            </div> 
          </div>
          <div class="col-sm-3" *ngIf="isCredito">
            <label for="cuotas" class="form-label">Cuotas</label>
            <input type="number" class="form-control" id="cuotas" placeholder="cuotas" min="1"
              [ngClass]="{'is-valid': chargeItems}"
              [disabled]="chargeItems">
          </div>   
          <div class="col-sm-3" *ngIf="isCredito">
            <label for="interes" class="form-label">Interes (opcional)</label>
            <input type="number" class="form-control" id="interes" placeholder="interes" min="0"
              [ngClass]="{'is-valid': chargeItems}"
              [disabled]="chargeItems">
          </div>  
        </div>
  
        <p *ngIf="categoriaFromsFeedback" class="text-danger"><i class="fas fa-exclamation-triangle"></i> {{categoriaFromsFeedback}}</p>
  
        <div class="text-center" *ngIf="!chargeItems">
          <button type="button" class=" btn" style="width: 30%;" 
            (click)="categoriasReady(+categoriaSelect.value,+formaDePagoSelect.value)" 
            [disabled]="chargeItems"
            [ngClass]="{'btn-success': chargeItems,'btn-waste': !chargeItems}">
            <i class="far fa-hand-point-down"></i> Cargar Items
          </button> 
        </div>   
      </form>
  
    </div>
  </div>
